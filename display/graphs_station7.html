<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STATION7</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/main.css">
    <script src="constants.js"></script>
    <script src="js/chart.js"></script>
    <script src="js/communication.js"></script>
</head>
<body class="bg-mode-video">
<video class="bg-video__video" muted loop playsinline preload="none">
    <source src="videos/neon_background_loop_800x480.mp4" type="video/mp4">
    <source src="videos/neon_background_loop_800x480.webm" type="video/webm">
</video>
<script>
    // Start video if the background is set to use it
    (function () {
        const video = document.querySelector('.bg-video__video');
        if (!video) return;

        function updateVideoPlayback() {
            const enabled = document.body.classList.contains('bg-mode-video');
            if (enabled) {
                video.preload = 'auto';
                if (video.readyState === 0) {
                    video.load();
                }
                video.play().catch(() => {});
            } else {
                video.pause();
                video.preload = 'none';
                video.currentTime = 0;
            }
        }

        updateVideoPlayback();
        const observer = new MutationObserver(updateVideoPlayback);
        observer.observe(document.body, { attributes: true, attributeFilter: ['class'] });
    })();
</script>
<div id="charts"></div>
<div id="meters"></div>

<script>
    const SERVER_IP = '192.168.0.65';
    // const SERVER_IP = '127.0.0.1';
    // const SERVER_IP = 'localhost';
    const SERVER_PORT = 2346;
    const CHART_WIDTH = 400;
    const CHART_HEIGHT = 100;
    const CHART_VALUE_COUNT = 20;
    const CHART_BAR_OPACITY = '100%';
    const chartsSettings = [
        {
            [Display.LABEL]: 'CPU Load',
            [Sensor.HARDWARE]: 1,
            [Sensor.SUB_HARDWARE]: null,
            [Sensor.SENSOR]: 4,
            [Sensor.DELAY]: 1,
            [Display.ID]: 'cpu-load',
            [Display.MIN_VALUE]: 0,
            [Display.MAX_VALUE]: 100,
        },
        {
            [Display.LABEL]: 'CPU Temp',
            [Sensor.HARDWARE]: 1,
            [Sensor.SUB_HARDWARE]: null,
            [Sensor.SENSOR]: 9,
            [Sensor.DELAY]: 5,
            [Display.ID]: 'cpu-temp',
            [Display.MIN_VALUE]: 10,
            [Display.MAX_VALUE]: 80,
        },
        {
            [Display.LABEL]: 'GPU Load',
            [Sensor.HARDWARE]: 3,
            [Sensor.SUB_HARDWARE]: null,
            [Sensor.SENSOR]: 4,
            [Sensor.DELAY]: 1,
            [Display.ID]: 'gpu-load',
            [Display.MIN_VALUE]: 0,
            [Display.MAX_VALUE]: 100,
        },
        {
            [Display.LABEL]: 'GPU Temp',
            [Sensor.HARDWARE]: 3,
            [Sensor.SUB_HARDWARE]: null,
            [Sensor.SENSOR]: 0,
            [Sensor.DELAY]: 5,
            [Display.ID]: 'gpu-temp',
            [Display.MIN_VALUE]: 10,
            [Display.MAX_VALUE]: 80,
        },
        {
            [Display.LABEL]: 'SSD Load',
            [Sensor.HARDWARE]: 6,
            [Sensor.SUB_HARDWARE]: null,
            [Sensor.SENSOR]: 10,
            [Sensor.DELAY]: 1,
            [Display.ID]: 'ssd-load',
            [Display.MIN_VALUE]: 0,
            [Display.MAX_VALUE]: 100,
        },
        {
            [Display.LABEL]: 'SSD Temp',
            [Sensor.HARDWARE]: 6,
            [Sensor.SUB_HARDWARE]: null,
            [Sensor.SENSOR]: 0,
            [Sensor.DELAY]: 5,
            [Display.ID]: 'ssd-temp',
            [Display.MIN_VALUE]: 10,
            [Display.MAX_VALUE]: 80,
        },
        {
            [Display.LABEL]: 'Download',
            [Sensor.HARDWARE]: 15,
            [Sensor.SUB_HARDWARE]: null,
            [Sensor.SENSOR]: 3,
            [Sensor.DELAY]: 1,
            [Display.ID]: 'download',
            [Display.MIN_VALUE]: 0,
            [Display.MAX_VALUE]: 13.35144048,
            [Display.MULTIPLIER]: 0.00000095367432,
            [Display.UNIT]: "MB/s",
        },
        {
            [Display.LABEL]: 'Upload',
            [Sensor.HARDWARE]: 15,
            [Sensor.SUB_HARDWARE]: null,
            [Sensor.SENSOR]: 2,
            [Sensor.DELAY]: 1,
            [Display.ID]: 'upload',
            [Display.MIN_VALUE]: 0,
            [Display.MAX_VALUE]: 3.81469728,
            [Display.MULTIPLIER]: 0.00000095367432,
            [Display.UNIT]: "MB/s",
        },
    ];
    const metersSettings = [
        {
            [Display.LABEL]: 'Mem',
            [Sensor.HARDWARE]: 2,
            [Sensor.SUB_HARDWARE]: null,
            [Sensor.SENSOR]: 2,
            [Sensor.DELAY]: 1,
            [Display.ID]: 'mem-used',
        },
        {
            [Display.LABEL]: 'V-Mem',
            [Sensor.HARDWARE]: 2,
            [Sensor.SUB_HARDWARE]: null,
            [Sensor.SENSOR]: 5,
            [Sensor.DELAY]: 1,
            [Display.ID]: 'v-mem-used',
        },
        {
            [Display.LABEL]: 'Seagate',
            [Sensor.HARDWARE]: 4,
            [Sensor.SUB_HARDWARE]: null,
            [Sensor.SENSOR]: 3,
            [Sensor.DELAY]: 1,
            [Display.ID]: 'seagate-load',
        },
        {
            [Display.LABEL]: 'HGST',
            [Sensor.HARDWARE]: 5,
            [Sensor.SUB_HARDWARE]: null,
            [Sensor.SENSOR]: 3,
            [Sensor.DELAY]: 1,
            [Display.ID]: 'hgst-load',
        },
    ];

    let charts = {};
    let meters = {};

    tryConnection();
</script>

</body>
</html>


















